# Протокол обсуждения пользовательских историй  
**(BRB – система для онлайн-записи в барбершоп)**

## Участники обсуждения:
- **Руслан (brendoni)** – пользователь  
- **Борис (elenahor)** – разработчик  
- **Лилия (cetherej)** – заказчик  

## Цели обсуждения:
Проверка выполнения принципов **3C**:
- **Card** (компактность — «помещается на карточке»)  
- **Conversation** (обсуждение)  
- **Confirmation** (согласование каждой ролью)  

А также оценка соответствия каждому US критериям **INVEST**:
- **I**ndependent (независимость)  
- **N**egotiable (обсуждаемость)  
- **V**aluable (ценность)  
- **E**stimable (оцениваемость)  
- **S**mall (малый объём)  
- **T**estable (проверяемость)  

---

## 1. US-MG-001: Управление расписанием мастеров

### Исходная User Story:
> Как менеджер,  
> я хочу иметь возможность добавлять, удалять, корректировать слоты в расписании по конкретному мастеру,  
> чтобы поддерживать актуальность расписания мастеров для удобства клиентов и обеспечения эффективной работы барбершопа.

### Обсуждение

#### 1. Card (Компактность)
**Заказчик** отметил, что в одной истории описаны три действия (добавление, удаление, корректировка), что нарушает принцип компактности.  
**Разработчик и пользователь** согласились, что лучше разделить на отдельные истории или объединить действия через общую цель.

#### 2. Conversation (Обсуждение)
**Разработчик** поднял вопрос об ограничениях:
- Нельзя добавить слот, если мастер уже занят.
- Нельзя удалить или изменить слот, если на него уже есть запись.

**Решение**:  
Оставить общую цель, но добавить в описание проверки:
- На пересечение времени с другими слотами.
- На наличие записей при удалении/редактировании.

#### 3. Confirmation (Согласование)
Все участники согласовали необходимость разделения истории для лучшей управляемости.

#### 4. Проверка INVEST
- ✅ **Независимость**: Каждое действие (добавить, удалить, изменить) может быть реализовано отдельно.  
- ✅ **Обсуждаемость**: Все стороны активно участвовали в обсуждении.  
- ✅ **Ценность**: Подтверждена — экономия времени, минимизация ошибок, гибкость расписания.

### Итоговые User Stories

- **US-MG-001.1**:  
  > Как менеджер,  
  > я хочу добавлять слоты в расписание по конкретному мастеру,  
  > чтобы поддерживать актуальность расписания.

- **US-MG-001.2**:  
  > Как менеджер,  
  > я хочу удалять слоты из расписания по конкретному мастеру,  
  > чтобы поддерживать актуальность расписания.

- **US-MG-001.3**:  
  > Как менеджер,  
  > я хочу корректировать слоты в расписании по конкретному мастеру,  
  > чтобы поддерживать актуальность расписания.

### Изменения и их причины
История была разделена на три части для соблюдения принципа **компактности** и **независимости**.  
Добавлены логические проверки (на занятость, наличие записей) для повышения надёжности и удобства.

---

## 2. US-MG-002: Настройка автоматической отправки уведомлений клиентам

### Исходная User Story:
> Как менеджер,  
> я хочу настраивать автоматическую отправку уведомлений клиентам,  
> чтобы не отправлять уведомления вручную, не тратить на это рабочее время и сократить количество ошибок.

### Обсуждение

#### 1. Card (Компактность)
История признана **достаточно компактной** и соответствует принципу "помещается на карточке".

#### 2. Conversation (Обсуждение)
- **Разработчик**: Необходимо уточнить возможность выбора канала связи и времени отправки.  
- **Заказчик**: Важно добавить настройку шаблонов уведомлений.  
- **Пользователь**: Нужно чётко указать, что уведомления отправляет **система автоматически**.

#### 3. Confirmation (Согласование)
Все участники согласились с формулировкой после доработки. Бизнес-ценность очевидна — экономия времени и снижение ошибок.

#### 4. Проверка INVEST
- ✅ **Независимость**: Функция не зависит от других US.  
- ✅ **Обсуждаемость**: Подробное обсуждение с участием всех сторон.  
- ✅ **Ценность**: Снижение ручного труда, минимизация пропусков записей.

### Итоговая User Story

- **US-MG-002**:  
  > Как менеджер,  
  > я хочу, чтобы система автоматически отправляла клиентам уведомления о предстоящей записи по выбранному мной каналу связи и по настроенному мной расписанию и шаблону,  
  > чтобы я мог не отправлять уведомления вручную и не тратить на это рабочее время, а также сократить количество ошибок.

### Изменения и их причины
Добавлены детали:
- Автоматическая отправка **системой**.
- Выбор **канала связи**.
- Настройка **времени** и **шаблона**.

Цель — однозначное понимание функционала разработчиками и пользователями.

---

## 3. US-CL-001: Просмотр истории записей

### Исходная User Story:
> Как клиент,  
> я хочу иметь возможность просматривать историю своих записей,  
> чтобы планировать свои будущие визиты и иметь возможность повторить запись на одни и те же услуги.

### Обсуждение

#### 1. Card (Компактность)
**Разработчик** предложил разделить: просмотр истории и повторная запись — это два разных действия.  
**Заказчик и пользователь** согласились.

#### 2. Conversation (Обсуждение)
- **Пользователь**: Предложил добавить возможность получения скидки за повторную запись.  
  → **Решение**: Вынести в отдельную US.  
- **Разработчик**: Доступ к истории — только для зарегистрированных пользователей.  
  → **Решение**: Добавить как предусловие.  
- **Пользователь**: Удобно, если записи группируются по датам и услугам.  
  → **Решение**: Вынести в отдельную US.

#### 3. Confirmation (Согласование)
История признана понятной и реализуемой. Ценность — удобство и увеличение повторных записей.

#### 4. Проверка INVEST
- ✅ **Независимость**:  
  - US-CL-001.1 — независима.  
  - US-CL-001.2 — зависит от функционала записи.  
- ✅ **Обсуждаемость**: Полное согласие сторон.  
- ✅ **Ценность**: Удобство клиента и рост лояльности.

### Итоговые User Stories

- **US-CL-001.1**:  
  > Как клиент,  
  > я хочу иметь возможность просматривать историю своих записей,  
  > чтобы планировать свои будущие визиты.

- **US-CL-001.2**:  
  > Как клиент,  
  > я хочу иметь возможность повторить запись из истории,  
  > чтобы сократить время на запись на одни и те же услуги.

### Изменения и их причины
Разделение на две истории для соблюдения **компактности** и **фокусировки**. Каждая теперь описывает одно действие.

---

## 4. US-CL-002: Оставление отзыва о полученной услуге

### Исходная User Story:
> Как клиент,  
> я хочу иметь возможность оставить отзыв о полученной услуге и поделиться мнением о качестве обслуживания,  
> чтобы улучшить работу мастеров в барбершопе и получать более качественные услуги.

### Обсуждение

#### 1. Card (Компактность)
**Заказчик** отметил, что "поделиться мнением" — это цель, а не действие.  
→ **Решение**: Перенести в конец истории как мотивацию.

#### 2. Conversation (Обсуждение)
**Пользователь** предложил добавить возможность **оценки по шкале 1–5** для удобства и аналитики.  
→ **Решение**: Создать отдельную US для оценки.

#### 3. Confirmation (Согласование)
Все участники согласились с ценностью — улучшение качества обслуживания.

#### 4. Проверка INVEST
- ✅ **Независимость**: Обе истории независимы.  
- ✅ **Обсуждаемость**: Активное участие всех.  
- ✅ **Ценность**: Улучшение сервиса и повышение удовлетворённости клиентов.

### Итоговые User Stories

- **US-CL-002.1**:  
  > Как клиент,  
  > я хочу иметь возможность оставить отзыв о полученной услуге,  
  > чтобы поделиться мнением о качестве обслуживания и улучшить работу мастеров в барбершопе и получать более качественные услуги.

- **US-CL-002.2**:  
  > Как клиент,  
  > я хочу иметь возможность проставить оценку полученной услуге (от 1 до 5),  
  > чтобы поделиться мнением о качестве обслуживания и улучшить работу мастеров в барбершопе и получать более качественные услуги.

### Изменения и их причины
Добавлена отдельная история для оценки — для соблюдения **независимости** и **удобства тестирования**.

---

## 5. US-EX-001: Просмотр своего расписания и записей на услуги

### Исходная User Story:
> Как мастер,  
> я хочу иметь возможность просматривать свое расписание и записи на услуги,  
> чтобы заранее планировать рабочее время и готовиться к предстоящим записям.

### Обсуждение

#### 1. Card (Компактность)
**Разработчик** предложил разделить: просмотр расписания и просмотр записей.  
**Заказчик**: Это единый функционал — записи отображаются в расписании.  
→ **Решение**: Не разделять, но уточнить формулировку.

#### 2. Conversation (Обсуждение)
- **Пользователь**:  
  - Расписание должно быть удобным (цветовые метки для занятых/свободных слотов).  
  - Отображать только слоты мастера, без лишней информации.  
- **Разработчик**:  
  - Какая информация нужна? ФИО клиента? Услуга?  
  → **Соглашение**: Показывать услугу (для подготовки), ФИО — не обязательно.  
  - Фильтрация по дате и услуге?  
  → **Решение**: Вынести в отдельную US.

#### 3. Confirmation (Согласование)
История признана понятной и реализуемой. Ценность — удобство планирования и подготовки.

#### 4. Проверка INVEST
- ✅ **Независимость**: Не зависит от других US.  
- ✅ **Обсуждаемость**: Полное согласие.  
- ✅ **Ценность**: Эффективное управление рабочим временем.

### Итоговая User Story

- **US-EX-001**:  
  > Как мастер,  
  > я хочу иметь возможность просматривать свое расписание со свободными слотами и записями на услуги,  
  > чтобы заранее планировать рабочее время и готовиться к предстоящим записям.

### Изменения и их причины
Переформулирована для большей точности и удобства восприятия, без нарушения целостности функционала.

---

## 6. US-EX-002: Просмотр отзывов клиентов

### Исходная User Story:
> Как мастер,  
> я хочу иметь возможность просмотреть отзывы, оставленные клиентами об оказанных мной услугах,  
> чтобы анализировать обратную связь клиентов для улучшения качества своей работы.

### Обсуждение

#### 1. Card (Компактность)
Все участники согласились: история **достаточно компактна**, делить не нужно.

#### 2. Conversation (Обсуждение)
**Пользователь**: Отзывы должны быть удобны — например, с фильтрацией по дате или оценке.  
→ **Решение**: Вынести фильтрацию в отдельную US.

#### 3. Confirmation (Согласование)
История понятна и реализуема. Ценность — рост качества услуг через обратную связь.

#### 4. Проверка INVEST
- ✅ **Независимость**: Не зависит от других.  
- ✅ **Обсуждаемость**: Полное согласие.  
- ✅ **Ценность**: Повышение качества обслуживания.

### Итоговая User Story

- **US-EX-002**:  
  > Как мастер,  
  > я хочу иметь возможность просмотреть отзывы, оставленные клиентами об оказанных мной услугах,  
  > чтобы анализировать обратную связь клиентов для улучшения качества своей работы.

### Изменения и их причины
Формулировка оставлена без изменений — соответствует всем критериям. Фильтрация вынесена отдельно для соблюдения принципа малости (Small).
