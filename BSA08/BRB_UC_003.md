# Use Case: Просмотр забронированных услуг и отзывов клиентов

## Уникальный идентификатор
UC-003-CUS

## Цель (назначение) UC
- Обеспечить мастеру возможность просматривать записи на свои услуги для планирования рабочего времени.
- Обеспечить мастеру возможность просматривать отзывы клиентов о выполненных работах для анализа обратной связи и повышения качества обслуживания.

## Основное действующее лицо (роль)
**Мастер**

### Интерес (потребность)
Получить доступ к своему расписанию и отзывам клиентов для эффективного планирования работы и анализа качества оказанных услуг.

## Другие заинтересованные стороны и их интересы

- **Клиент**  
  *Интерес:* Улучшение качества обслуживания благодаря тому, что мастер получает обратную связь и может учитывать её в своей работе.

- **Менеджер**  
  *Интерес:*  
  - Использование отзывов для отслеживания уровня удовлетворённости клиентов и улучшения общей работы барбершопа.  
  - Сокращение ошибок при записи клиентов, так как мастер заранее видит своё расписание.

## Предусловия
- Мастер авторизован в системе и имеет доступ к интерфейсу.
- В системе содержатся данные о забронированных услугах и отзывах клиентов.

## Триггер
Мастер решает просмотреть своё расписание и/или отзывы клиентов.

## Постусловия

### Минимальные гарантии
Система сохраняет текущее состояние данных до начала выполнения UC и историю действий мастера.

### Гарантии успеха
Мастер успешно просмотрел записи на свои услуги и/или отзывы клиентов.

## Основной сценарий

1. Мастер открывает интерфейс просмотра расписания.  
2. Система отображает расписание мастера, в котором отмечены свободные и забронированные слоты.  
3. Мастер выбирает конкретную запись для просмотра деталей.  
4. Система показывает всплывающее окно с деталями записи: имя клиента, услуга, время начала и окончания забронированного слота.  
5. Мастер переходит к разделу «Отзывы».  
6. Система отображает список отзывов клиентов о выполненных работах мастера.  
7. Мастер просматривает отзывы, включая текстовые комментарии и оценки.

## Альтернативные сценарии

### 2a. Нет забронированных слотов (к мастеру никто не записан)
1. Система отображает расписание мастера, в котором нет забронированных услуг.  
2. Мастер закрывает интерфейс или переходит к просмотру отзывов.  
→ Переход к шагу 5 основного сценария.

### 6b. У мастера нет отзывов клиентов
1. Система информирует мастера об отсутствии отзывов.  
2. Мастер закрывает интерфейс или возвращается к просмотру расписания.

### 3c. Просмотр записей без просмотра деталей записи
1. Мастер переходит к просмотру отзывов.  
→ Переход к шагу 5 основного сценария.

## Связанные Use Cases

### UC-003A-CUS: Просмотр отзывов клиентов  
**Тип связи:** Include (включение)

**Описание:** Просмотр полного текста отзыва с дополнительной информацией.

1. Система показывает мастеру список отзывов: каждый отзыв с рейтингом, датой добавления, первыми тремя строками текста и ссылкой «Далее».  
2. Мастер переходит по ссылке «Далее».  
3. Система отображает полный текст отзыва, а также:  
   - Рейтинг  
   - Дату отзыва  
   - Дату оказания услуги  
   - ФИО клиента  
4. Мастер нажимает кнопку «Назад» и возвращается в список отзывов.

---

### UC-003B-CUS: Сортировка отзывов  
**Тип связи:** Extend (расширение)

**Описание:** Мастер может сортировать список отзывов по различным критериям.

1. Мастер переходит к разделу «Отзывы».  
2. Система отображает список отзывов, отсортированный по умолчанию по дате добавления (сначала новые).  
3. Мастер выбирает опцию сортировки:  
   - По дате оказания услуги (сначала новые)  
   - По рейтингу (сначала с самым высоким рейтингом)  
4. Система обновляет отображение списка в соответствии с выбранным критерием сортировки.

---

### UC-003C-CUS: Фильтрация отзывов  
**Тип связи:** Extend (расширение)

**Описание:** Мастер может фильтровать отзывы по определённым параметрам.

1. Мастер переходит к разделу «Отзывы».  
2. Система отображает полный список отзывов.  
3. Мастер выбирает фильтр и вводит параметры (по дате добавления, дате оказания услуги, клиенту или услуге).  
4. Система отображает только те отзывы, которые соответствуют заданным фильтрам.

## Дополнительно

### Предположения
- По условию задания требовалось в одном UC объединить просмотр забронированных слотов и отзывов. Считаю, что правильнее было б разделить эти два UC.  
- Отзывы можно просматривать через отдельную вкладку «Отзывы», а также при просмотре истории записей или завершённых слотов в расписании (ссылка на отзыв отображается при открытии записи).  
- В будущих версиях системы будет реализована автоматическая генерация рейтинга мастера на основе оценок клиентов и количества оказанных услуг.

## Бизнес-правила
- Отвечать на отзывы клиентов может только менеджер.  
- Мастер не имеет права отвечать на отзывы.

## Ограничения
- Мастеру доступны для просмотра **только** отзывы на услуги, оказанные им самим.  
- Мастеру доступны для просмотра **только** его собственные записи.
